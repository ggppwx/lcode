# max sum of rectangle no larger than k

[Max Sum of Rectangle No Larger Than K](https://leetcode.com/problems/max-sum-of-rectangle-no-larger-than-k)

Given a non-empty 2D matrix matrix and an integer k, find the max sum of a rectangle in the matrix such that its sum is no larger than k.

Example:

```text
Input: matrix = [[1,0,1],[0,-2,3]], k = 2
Output: 2 
Explanation: Because the sum of rectangle [[0, 1], [-2, 3]] is 2,
             and 2 is the max number no larger than k (k = 2).
```

Note: The rectangle inside the matrix must have an area &gt; 0. What if the number of rows is much larger than the number of columns?

## Analysis

* brute force: time = O\(M\_N\_M\*N\)
* **Kadane's algorithm** to get the **max subarray problem**
  * `local_max(i) = max(A[i], A[i] + local_max[i-1])
* this problem is a 2D kadane algorithm 
  * we have col index `l`, `r` as the the boundary of rectangle 
  * save the sum of each row to `sumArray[row]`
  * apply Kadane algorithm to the array `sumArray`

## Thoughts

* even brute force used DP thinking 
* Or we can only brute force the column, \[j0, j1\].
  * for each \(j0, j1\) combination, get the sum\_j0\_to\_j1\[i\]

## Solution

```python
class Solution:
    def maxSumSubmatrix(self, matrix: List[List[int]], k: int) -> int:
```

## Tags

DP

## Marks

Hard,Star

@timestamp:2019-09-19
